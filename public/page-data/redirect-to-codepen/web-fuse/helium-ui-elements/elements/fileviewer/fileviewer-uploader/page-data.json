{"componentChunkName":"component---node-modules-gatsby-remark-code-repls-default-redirect-template-js","path":"/redirect-to-codepen/web-fuse/helium-ui-elements/elements/fileviewer/fileviewer-uploader","webpackCompilationHash":"","result":{"pageContext":{"isCreatedByStatefulCreatePages":false,"action":"https://codepen.io/pen/define","payload":"{\"editors\":\"0010\",\"html\":\"<div id=\\\"root\\\"></div>\",\"js\":\"import '../dialog/dialog.js';\\nimport '../upload/upload.js';\\n\\nexport class FileViewerUploader {\\n    constructor (i18n) {\\n        this._i18n = i18n;\\n    }\\n\\n    create (uploadAction, onSuccess, onFailure) {\\n        let dialog = document.createElement('mc-dialog');\\n        dialog.setAttribute('header', '');\\n        dialog.setAttribute('show-middle-button', 'false');\\n        dialog.setAttribute('show-right-button', 'true');\\n        dialog.setAttribute('text-right-button', this._i18n.cancel);\\n        let upload = this._createUploader();\\n        upload.addEventListener('upload-file-selected', (e) => {\\n            upload.setAttribute('status', 'pending');\\n            uploadAction(e.detail.file).then(() => {\\n                this._handleUploadSuccess(onSuccess, upload, dialog);\\n            }, (err) => {\\n                this._handleUploadFailure(err, onFailure, upload, dialog);\\n            });\\n        });\\n        upload.addEventListener('upload-link-click', (e) => {\\n            this._handleLinkClick(e.detail.name, upload, dialog);\\n        });\\n\\n        let slot = document.createElement('span');\\n        slot.id = 'content';\\n        slot.setAttribute('slot', 'content');\\n        slot.appendChild(upload);\\n        dialog.appendChild(slot);\\n\\n        return dialog;\\n    }\\n\\n    _handleLinkClick (name, upload, dialog) {\\n        switch (name) {\\n        case 'upload-again': {\\n            dialog.setAttribute('text-right-button', this._i18n.cancel);\\n            upload.setAttribute('status', 'start');\\n            break;\\n        }\\n        case 'learn': {\\n            this._openHref('/faq#limitation', '_self');\\n        }\\n        }\\n    }\\n\\n    _openHref (href, target) {\\n        let win = window.open(href, target);\\n        // win is undefined, if the window cannot be opened (e.g.popup blocker)\\n        if (win) {\\n            win.focus();\\n        }\\n    }\\n\\n    _handleUploadSuccess (onSuccess, upload, dialog) {\\n        dialog.setAttribute('text-right-button', this._i18n.close);\\n        upload.setAttribute('status', 'success');\\n        onSuccess();\\n    }\\n\\n    _handleUploadFailure (errorMessage, onFailure, upload, dialog) {\\n        dialog.setAttribute('text-right-button', this._i18n.close);\\n        upload.setAttribute('error-message', errorMessage);\\n        upload.setAttribute('status', 'failure');\\n        onFailure(errorMessage);\\n    }\\n\\n    _createUploader () {\\n        let upload = document.createElement('mc-upload');\\n        upload.setAttribute('start-text', this._i18n.startText);\\n        upload.setAttribute('pending-text', this._i18n.pendingText);\\n        upload.setAttribute('success-text', this._i18n.successText);\\n        upload.setAttribute('failure-text', this._i18n.failureText);\\n        upload.setAttribute('upload-button-text', this._i18n.buttonText);\\n\\n        upload.setAttribute('status', 'start');\\n        upload.setAttribute('file-type', '*');\\n        upload.innerHTML =\\n            `<mc-upload-failure-link name=\\\"upload-again\\\" text=\\\"${this._i18n.uploadAgain.text}\\\" description=\\\"${this._i18n.uploadAgain.description}\\\"></mc-upload-link>\\n             <mc-upload-failure-link name=\\\"learn\\\" text=\\\"${this._i18n.learn.text}\\\" description=\\\"${this._i18n.learn.description}\\\"></mc-upload-link>\\n             <mc-upload-success-link name=\\\"upload-again\\\" text=\\\"${this._i18n.uploadAgain.text}\\\" description=\\\"${this._i18n.uploadAgain.description}\\\"></mc-upload-link>`;\\n        return upload;\\n    }\\n}\\n\",\"js_external\":\"\",\"js_pre_processor\":\"babel\",\"layout\":\"left\"}"}}}